{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/chrismlittle123/check-my-code-community/main/schema.json",
  "title": "cmc.toml",
  "description": "cmc.toml configuration schema",
  "version": "1.0.0",
  "type": "object",
  "properties": {
    "project": {
      "description": "Project configuration",
      "type": "object",
      "properties": {
        "name": {
          "description": "Project name",
          "type": "string",
          "minLength": 1
        }
      },
      "required": ["name"]
    },
    "extends": {
      "description": "Inherit rulesets from remote repositories",
      "type": "object",
      "properties": {
        "eslint": {
          "description": "Remote ESLint ruleset (format: github:owner/repo/path@version)",
          "type": "string",
          "pattern": "^github:[^/]+\\/[^/@]+(?:\\/[^@]*)?@.+$"
        },
        "ruff": {
          "description": "Remote Ruff ruleset (format: github:owner/repo/path@version)",
          "type": "string",
          "pattern": "^github:[^/]+\\/[^/@]+(?:\\/[^@]*)?@.+$"
        }
      }
    },
    "prompts": {
      "description": "AI context configuration for coding assistants",
      "type": "object",
      "properties": {
        "templates": {
          "description": "Template names to load (e.g., [\"typescript-strict\", \"python-prod\"])",
          "minItems": 1,
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 1
          }
        },
        "source": {
          "description": "Custom source repository (format: github:owner/repo/path@version)",
          "type": "string",
          "pattern": "^github:[^/]+\\/[^/@]+(?:\\/[^@]*)?@.+$"
        }
      },
      "required": ["templates"]
    },
    "rulesets": {
      "description": "Linter rulesets",
      "type": "object",
      "properties": {
        "eslint": {
          "description": "ESLint configuration",
          "type": "object",
          "properties": {
            "rules": {
              "description": "ESLint rules configuration",
              "type": "object",
              "propertyNames": {
                "type": "string"
              },
              "additionalProperties": {
                "anyOf": [
                  {
                    "type": "string",
                    "enum": ["off", "warn", "error"]
                  },
                  {
                    "type": "array",
                    "prefixItems": [
                      {
                        "type": "string"
                      }
                    ],
                    "items": {}
                  }
                ]
              }
            }
          }
        },
        "ruff": {
          "description": "Ruff configuration",
          "type": "object",
          "properties": {
            "line-length": {
              "description": "Maximum line length",
              "type": "integer",
              "exclusiveMinimum": 0,
              "maximum": 9007199254740991
            },
            "lint": {
              "description": "Ruff lint configuration",
              "type": "object",
              "properties": {
                "select": {
                  "description": "Ruff rule codes to enable",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "ignore": {
                  "description": "Ruff rule codes to ignore",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "additionalProperties": {}
        },
        "tsc": {
          "description": "TypeScript compiler configuration for type checking",
          "type": "object",
          "properties": {
            "enabled": {
              "description": "Enable TypeScript type checking (default: true if tsc section present)",
              "type": "boolean"
            },
            "strict": {
              "description": "Enable all strict type-checking options",
              "type": "boolean"
            },
            "noImplicitAny": {
              "description": "Raise error on expressions and declarations with implied 'any' type",
              "type": "boolean"
            },
            "strictNullChecks": {
              "description": "Enable strict null checks",
              "type": "boolean"
            },
            "strictFunctionTypes": {
              "description": "Enable strict checking of function types",
              "type": "boolean"
            },
            "strictBindCallApply": {
              "description": "Enable strict 'bind', 'call', and 'apply' methods on functions",
              "type": "boolean"
            },
            "strictPropertyInitialization": {
              "description": "Enable strict checking of property initialization in classes",
              "type": "boolean"
            },
            "noImplicitThis": {
              "description": "Raise error on 'this' expressions with implied 'any' type",
              "type": "boolean"
            },
            "alwaysStrict": {
              "description": "Parse in strict mode and emit 'use strict' for each source file",
              "type": "boolean"
            },
            "noUncheckedIndexedAccess": {
              "description": "Add 'undefined' to a type when accessed using an index",
              "type": "boolean"
            },
            "noImplicitReturns": {
              "description": "Report error when not all code paths in function return a value",
              "type": "boolean"
            },
            "noFallthroughCasesInSwitch": {
              "description": "Report errors for fallthrough cases in switch statement",
              "type": "boolean"
            },
            "noUnusedLocals": {
              "description": "Report errors on unused local variables",
              "type": "boolean"
            },
            "noUnusedParameters": {
              "description": "Report errors on unused parameters",
              "type": "boolean"
            },
            "exactOptionalPropertyTypes": {
              "description": "Interpret optional property types as written, rather than adding 'undefined'",
              "type": "boolean"
            },
            "noImplicitOverride": {
              "description": "Ensure overriding members in derived classes are marked with an 'override' modifier",
              "type": "boolean"
            },
            "allowUnusedLabels": {
              "description": "Do not report errors on unused labels",
              "type": "boolean"
            },
            "allowUnreachableCode": {
              "description": "Do not report errors on unreachable code",
              "type": "boolean"
            }
          }
        }
      }
    }
  },
  "required": ["project"]
}
